<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8"/>
    <title>æœç´¢å•†å“ğŸ”</title>
    <link rel="stylesheet" th:href="@{/index/css/style.css}"/>

    <script th:src="@{/bootstrap/js/bootstrap.bundle.js}"></script>

    <style>
        .user-button { /* æŒ‰é’®ç¾åŒ– */
            width: 170px; /* å®½åº¦ */
            height: 40px; /* é«˜åº¦ */
            border-width: 0px; /* è¾¹æ¡†å®½åº¦ */
            border-radius: 3px; /* è¾¹æ¡†åŠå¾„ */
            background: #558acc; /* èƒŒæ™¯é¢œè‰² */
            cursor: pointer; /* é¼ æ ‡ç§»å…¥æŒ‰é’®èŒƒå›´æ—¶å‡ºç°æ‰‹åŠ¿ */
            outline: none; /* ä¸æ˜¾ç¤ºè½®å»“çº¿ */
            font-family: Microsoft YaHei,serif; /* è®¾ç½®å­—ä½“ */
            color: white; /* å­—ä½“é¢œè‰² */
            font-size: 17px; /* å­—ä½“å¤§å° */
        }
        .user-button:hover { /* é¼ æ ‡ç§»å…¥æŒ‰é’®èŒƒå›´æ—¶æ”¹å˜é¢œè‰² */
            background: #0450b9;
        }

    </style>
</head>

<body class="pg">
<div class="page">
    <div id="app" class=" mallist tmall- page-not-market ">

        <!-- å¤´éƒ¨æœç´¢ -->
        <div id="header" class=" header-list-app">
            <div class="headerLayout">
                <div class="headerCon ">
                    <!-- Logo-->
                    <h1 id="mallLogo">
                        <!--                        <img th:src="@{/images/jdlogo.png}" alt="">-->
                        <button type="button" class="user-button">
                            <a th:href="@{/shop/usercenter}">ä¸ªäººä¸­å¿ƒ</a>
                        </button>
                    </h1>

                    <div class="header-extra">

                        <!--æœç´¢-->
                        <div id="mallSearch" class="mall-search">
                            <form name="searchTop" class="mallSearch-form clearfix">
                                <fieldset>
                                    <legend>jd</legend>
                                    <div class="mallSearch-input clearfix">
                                        <div class="s-combobox" id="s-combobox-685">
                                            <div class="s-combobox-input-wrap">
                                                <input v-model="keyword" type="text" autocomplete="off" id="mq"
                                                       class="s-combobox-input" aria-haspopup="true">
                                            </div>
                                        </div>
                                        <button type="submit" @click.prevent="searchKey()" id="searchbtn">æœç´¢</button>
                                    </div>
                                </fieldset>
                            </form>
                            <ul class="relKeyTop">
                                <li><a style='color:red'>çƒ­é”€</a></li>
                                <li><a><div @click="searchKey('java')">java</div></a></li>
                                <li><a><div @click="searchKey('MySql')">MySql</div></a></li>
                                <li><a><div @click="searchKey('JavaScript')">JavaScript</div></a></li>
                                <li><a><div @click="searchKey('Spring')">Spring</div></a></li>
                                <li><a><div @click="searchKey('Redis')">Redis</div></a></li>
                                <li><a><div @click="searchKey('Docker')">Docker</div></a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- å•†å“è¯¦æƒ…é¡µé¢ -->
        <div id="content">
            <div class="main">
                <!-- å“ç‰Œåˆ†ç±» -->
                <form class="navAttrsForm">
                    <div class="attrs j_NavAttrs" style="display:block">
                        <div class="brandAttr j_nav_brand">
                            <div class="j_Brand attr">
<!--                                <link th:href="@{/bootstrap/css/bootstrap.css}" rel="stylesheet">-->
                                <div class="attrKey">
                                    è¶…å¸‚ä¼šå‘˜ç®¡ç†ç³»ç»Ÿ
                                </div>
                                <div class="attrValues">
                                    <ul class="av-collapse row-2">
                                        <li><a href="#" style='color:red'> å°ç»„æˆå‘˜ : </a></li>
                                        <li><a href="#"> å¼ æµ©ç”· </a></li>
                                        <li><a href="#"> ææ¶µé’° </a></li>
                                        <li><a href="#"> ä»æ€å‡¡ </a></li>
                                        <li><a href="#"> å‘¨å¤©ç¥¥ </a></li>
                                        <li><a href="#"> æ•°æ®ç§‘å­¦ä¸å¤§æ•°æ®æŠ€æœ¯2001ç­ </a></li>
                                        <li><div style='color:red'>ä»·æ ¼åŒºé—´:</div></li>
                                        <li>
                                            <input v-model="ge" type="number" id="gege">
                                        </li>
                                        <li>
                                            <input v-model="le" type="number" id="lele">
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>

<!--                <div>è¶…å¸‚ä¼šå‘˜ç®¡ç†ç³»ç»Ÿ</div>-->

                <!-- æ’åºè§„åˆ™ -->
                <div class="filter clearfix">
                    <a class="fSort fSort-cur">ç»¼åˆ<i class="f-ico-arrow-d"></i></a>
                    <a class="fSort" @click="searchKey('è¯ºè´å°”')">ä¹¦ç±<i class="f-ico-arrow-d"></i></a>
                    <a class="fSort" @click="searchKey('Apple')">æ•°ç <i class="f-ico-arrow-d"></i></a>
                    <a class="fSort" @click="searchKey('ç”Ÿæ´»')">ç”Ÿæ´»<i class="f-ico-arrow-d"></i></a>
                    <a class="fSort" @click="searchKey('é›¶é£Ÿ')">é›¶é£Ÿ<i class="f-ico-arrow-d"></i></a>
                    <a class="fSort" @click="searchKey('è£™å­')">è¡£ç‰©<i class="f-ico-arrow-d"></i></a>
                    <a class="fSort" @click="searchKey('è”¬èœ')">æœè”¬<i class="f-ico-arrow-d"></i></a>
                    <a class="fSort" @click="searchKey('ç”µå™¨')">ç”µå™¨<i class="f-ico-arrow-d"></i></a>
                    <a class="fSort" @click="searchKey('åŒ»è¯')">åŒ»è¯<i class="f-ico-arrow-d"></i></a>
                    <a class="fSort" @click="searchKey('é¥°å“')">é¥°å“<i class="f-ico-arrow-d"></i></a>
                    <a class="fSort" @click="searchKey('ç®±åŒ…')">ç®±åŒ…<i class="f-ico-arrow-d"></i></a>
                    <a class="fSort" @click="searchKey('æ´—æŠ¤')">æ´—æŠ¤<i class="f-ico-arrow-d"></i></a>
                    <a class="fSort" @click="searchKey('æ¯å©´')">æ¯å©´<i class="f-ico-arrow-d"></i></a>
                    <a class="fSort" @click="searchKey('ç™¾è´§')">ç™¾è´§<i class="f-ico-arrow-d"></i></a>
                    <a class="fSort" @click="searchKey('è¶…è·‘')">è½¦å“<i class="f-ico-arrow-d"></i></a>
                    <a class="fSort" @click="searchKey('å£æŒ‚')">å®¶è£…<i class="f-ico-arrow-d"></i></a>
                    <a class="fSort" @click="searchKey('åŒ–å¦†å“')">ç¾å¦†<i class="f-ico-arrow-d"></i></a>
                    <a class="fSort" @click="searchKey('å¥³é‹')">å¥³é‹<i class="f-ico-arrow-d"></i></a>
                    <a class="fSort" @click="searchKey('ç”·é‹')">ç”·é‹<i class="f-ico-arrow-d"></i></a>
                    <a class="fSort" @click="searchKey('é£Ÿå“')">é£Ÿå“<i class="f-ico-arrow-d"></i></a>
                    <a class="fSort" @click="searchKey('ä¿å¥')">ä¿å¥<i class="f-ico-arrow-d"></i></a>
                    <a class="fSort" @click="searchKey('è¿åŠ¨')">è¿åŠ¨<i class="f-ico-arrow-d"></i></a>
                    <a class="fSort" @click="searchKey('ç”·è£…')">ç”·è£…<i class="f-ico-arrow-d"></i></a>
                    <a class="fSort" @click="searchKey('å¥³è£…')">å¥³è£…<i class="f-ico-arrow-d"></i></a>
                    <a class="fSort" @click="searchKey('ç©å…·')">å„¿ç«¥<i class="f-ico-arrow-d"></i></a>
                    <a class="fSort" @click="searchKey('å®¶è£…')">è£…ä¿®<i class="f-ico-arrow-d"></i></a>

<!--                    <a class="fSort"><i class="f-ico-triangle-mt"></i><i class="f-ico-triangle-mb"></i></a>-->
                </div>

                <!-- å•†å“è¯¦æƒ… -->
                <div class="view grid-nosku" >

                    <div class="product" v-for="result in results">
                        <div class="product-iWrap" @click.prevent="transaction(result.id)">
                            <!--å•†å“å°é¢-->
                            <div class="productImg-wrap">
                                <a class="productImg">
                                    <img :src="result.img">
                                </a>
                            </div>
                            <!--ä»·æ ¼-->
                            <p class="productPrice">
                                <em v-text="result.price"></em>
                            </p>
                            <!--æè¿°-->
                            <p class="productTitle">
                                <a v-html="result.name"></a>
                            </p>
                            <!-- åº—é“ºå -->
                            <div class="productShop">
                                <span>åº—é“ºï¼šä¼šé£çš„å°é±¼å„¿ </span>
                            </div>
                            <!-- æˆäº¤ä¿¡æ¯ -->
                            <p class="productStatus">
                                <span>æˆäº¤é‡<em>86ç¬”</em></span>
                                <span>æµè§ˆé‡ <a>78</a></span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script th:src="@{/js/vue.min.js}"></script>
<script th:src="@{/js/axios.min.js}"></script>
<script>
    new Vue({
        el:"#app",
        data:{
            "keyword": '', // æœç´¢çš„å…³é”®å­—
            "ge": '', // å¤§äºç­‰äº
            "le": '', // å°äºç­‰äº
            "numbers": '',  //ç»‘å®šå•†å“çš„ç¼–å·
            "results":[], // åç«¯è¿”å›çš„ç»“æœ
        },
        methods:{
            searchKey(words){
                let keyword = this.keyword;
                let ge = this.ge;
                let le = this.le;
                if (keyword==='') {
                    keyword="qiandao";
                }
                if (ge==='') {
                    ge=0;
                }
                if (le==='') {
                    le=1000000;
                }
                // if (ge > le) {
                //     alert("è¯·è¾“å…¥æ­£ç¡®çš„ä»·æ ¼åŒºé—´!")
                //     // Vue.nextTick(function(){
                //     //     $("#gege").val('');
                //     //     $("#lele").val('');
                //     // })
                //     this.ge="";
                //     this.le="";
                //     return;
                // }
                if (typeof words !== 'undefined') {
                    keyword=words;
                }
                // console.log(keyword,ge,le,words);
                // let href = decodeURIComponent(`core/item/searchbysql/${keyword}/${ge}/${le}`);
                // let href = `core/item/searchbysql/${keyword}/${ge}/${le}`;
                let href =
                    "core/item/searchbysql/"+encodeURI(encodeURI(keyword))+"/"+ge+"/"+le;
                //è¿™é‡Œä¼ è¾“ä¸­æ–‡è¦ç¼–ç 
                axios.get(href).then(response=>{
                    console.log(response.data);
                    this.results=response.data;
                    this.ge="";
                    this.le="";
                })
            },
            transaction(num) {
                top.location.href=`/first/order/${num}`;
                // let href = `shops/order/${num}`;
                // axios.get(href);
            }
        },
        mounted:function (){
            this.searchKey();   //é»˜è®¤è§¦å‘çš„å‡½æ•°
        }
    });

</script>

</body>
</html>

